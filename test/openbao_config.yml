# Example YAML (new file in repo root for tests)
policies:
  admin:
    hcl_content: |
      path "*" {
        capabilities = ["create", "read", "update", "delete", "list", "sudo"]
      }
  deploy-ca:
    hcl_content: |
      path "pki-intermediate/*" {
        capabilities = ["read", "list"]
      }
      path "kv/data/trusted_external" {
        capabilities = ["read"]
      }
      path "auth/token/lookup*" {
        capabilities = ["read"]
      }
  user:
    hcl_content: |
      path "secret/*" {
        capabilities = ["create", "read", "update", "delete", "list"]
      }
      path "userpass/users/{{identity.entity.name}}" {
        capabilities = ["read"]
      }

users:
  - display_name: test_user
    password: test_password
    policies:
      - user

tokens:
  - display_name: admin
    policies: ["admin"]
    ttl: "87600h"  # 10y, matching CA
  - display_name: deploy-ca
    policies: ["deploy-ca"]
    ttl: "87600h"
  - display_name: test_user
    policies: ["user"]
    ttl: "168h"  # 1w
